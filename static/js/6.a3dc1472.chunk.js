(this["webpackJsonpmy-personal-pwa"]=this["webpackJsonpmy-personal-pwa"]||[]).push([[6],{179:function(t,e,a){"use strict";var n=a(167),r=a.n(n),c=a(171),i=a(172),o=a(25),s=a(0),u=a(192);u.a.initializeApp({apiKey:"AIzaSyC-tzfeKC1QSFSZbyAcgNxw7nNa5Bqm0Zs",authDomain:"my-pwa-ab0ee.firebaseapp.com",projectId:"my-pwa-ab0ee",storageBucket:"my-pwa-ab0ee.appspot.com",messagingSenderId:"726616032493",appId:"1:726616032493:web:789aec950bde86366ab8e4",measurementId:"G-4V4DXTD4MX"});var l=null===u.a||void 0===u.a?void 0:u.a.firestore();e.a=function(t){var e=Object(s.useState)(!1),a=Object(o.a)(e,2),n=a[0],u=a[1];function d(){return(d=Object(i.a)(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,l.collection(t).limit(50).get();case 3:return a=e.sent,n=a.docs.map((function(t){return Object(c.a)(Object(c.a)({},t.data()),{},{id:t.id})})),u(!1),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(i.a)(r.a.mark((function e(a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,l.collection(t).add(Object(c.a)({},a));case 3:return n=e.sent,u(!1),e.abrupt("return",Object(c.a)(Object(c.a)({},n),{},{id:n.id}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(i.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,l.collection(t).doc(a.id).set(Object(c.a)({},a));case 3:u(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(i.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,l.collection(t).doc(a.id).delete();case 3:u(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{getData:function(){return d.apply(this,arguments)},addData:function(t){return j.apply(this,arguments)},updateData:function(t){return p.apply(this,arguments)},deleteData:function(t){return b.apply(this,arguments)},loading:n}}},256:function(t,e,a){"use strict";a.r(e);var n=a(193),r=a(167),c=a.n(r),i=a(172),o=a(25),s=a(0),u=a(179),l=a(8),d=a(157),j=a(85),p=a(245),b=a(39),h=a(248),m=a(252),O=a(251),f=a(247),g=a(249),x=a(250),v=a(217),y=a(165),w=a(152),C=a(135),S=a(28),k=a(4),N=Object(C.a)({table:{minWidth:300}}),D=function(t){var e=t.loading,a=t.savingList,n=N(),r=Object(l.f)();return Object(k.jsx)(k.Fragment,{children:e?Object(k.jsx)(p.a,{}):Object(k.jsxs)("div",{children:[Object(k.jsxs)(d.a,{p:2,children:[Object(k.jsx)(d.a,{children:Object(k.jsx)(w.a,{onClick:function(){return r.push(S.c)},children:"Update"})}),Object(k.jsx)(j.a,{elevation:3,children:Object(k.jsxs)(v.a,{data:a,children:[Object(k.jsx)(v.b,{valueField:"amount",argumentField:"category",name:"category",outerRadius:.75}),Object(k.jsx)(v.c,{text:"Asset allocation"}),Object(k.jsx)(y.a,{})]})})]}),Object(k.jsx)(d.a,{p:2,children:Object(k.jsx)(f.a,{component:j.a,children:Object(k.jsxs)(h.a,{className:n.table,"aria-label":"simple table",children:[Object(k.jsx)(g.a,{children:Object(k.jsxs)(x.a,{children:[Object(k.jsx)(O.a,{children:Object(k.jsx)(b.a,{variant:"h6",children:"Category"})}),Object(k.jsx)(O.a,{align:"right",children:Object(k.jsx)(b.a,{variant:"h6",children:"Amount"})}),Object(k.jsx)(O.a,{align:"center",children:Object(k.jsx)(b.a,{variant:"h6",children:"Date"})})]})}),Object(k.jsx)(m.a,{children:a.map((function(t){return Object(k.jsxs)(x.a,{children:[Object(k.jsx)(O.a,{component:"th",scope:"row",children:t.category}),Object(k.jsx)(O.a,{align:"right",children:null===t||void 0===t?void 0:t.amount}),Object(k.jsx)(O.a,{align:"right",children:null===t||void 0===t?void 0:t.updatedDate})]},t.category)}))})]})})})]})})},A=a(171),W=a(260),L=a(258),F=a(241),T=a(253),I=a(243),E=a(255),z=Object(C.a)((function(t){return Object(W.a)({container:{marginTop:"2rem",padding:"2rem",boxSizing:"border-box",position:"relative"},formControl:{margin:t.spacing(1),minWidth:120},selectEmpty:{marginTop:t.spacing(2)},root:{display:"flex",flexWrap:"wrap"},margin:{margin:t.spacing(1)},withoutLabel:{marginTop:t.spacing(3)},textField:{width:"25ch"}})})),U=function(t){t.loading;var e,a=t.savingList,n=t.onUpdate,r=Object(l.f)(),c=z(t),i=Object(s.useState)(""),u=Object(o.a)(i,2),d=u[0],p=u[1],b=Object(s.useState)("0"),h=Object(o.a)(b,2),m=h[0],O=h[1],f=function(){return a.find((function(t){return t.category===d}))};Object(s.useEffect)((function(){var t=f();O(t?t.amount.toString():"0")}),[d]);return Object(k.jsxs)(j.a,{elevation:2,className:c.container,children:[Object(k.jsxs)(I.a,{fullWidth:!0,className:c.formControl,children:[Object(k.jsx)(L.a,{htmlFor:"category",children:"Category"}),Object(k.jsxs)(E.a,{native:!0,value:d,onChange:function(t){p(t.target.value)},inputProps:{name:"category",id:"category"},children:[Object(k.jsx)("option",{"aria-label":"None",value:""}),null===(e=t.savingList)||void 0===e?void 0:e.map((function(t){return Object(k.jsx)("option",{"aria-label":"None",value:t.category,children:t.category},t.category)}))]})]}),Object(k.jsxs)(I.a,{fullWidth:!0,className:c.margin,children:[Object(k.jsx)(L.a,{htmlFor:"standard-adornment-amount",children:"Amount"}),Object(k.jsx)(F.a,{id:"standard-adornment-amount",value:m,onChange:function(t){return O(t.target.value)},startAdornment:Object(k.jsx)(T.a,{position:"start",children:"$"})})]}),Object(k.jsx)(I.a,{fullWidth:!0,className:c.margin,children:Object(k.jsx)(w.a,{variant:"contained",color:"primary",onClick:function(){var t=f();t?n(Object(A.a)(Object(A.a)({},t),{},{amount:Number(m),updatedAt:(new Date).toISOString().split("T")[0]})):O("0")},children:"Update"})}),Object(k.jsx)(I.a,{fullWidth:!0,className:c.margin,children:Object(k.jsx)(w.a,{variant:"contained",color:"secondary",onClick:function(){return r.push(S.d)},children:"cancel"})})]})},q=Object(C.a)((function(t){return Object(W.a)({container:{marginTop:"2rem",padding:"2rem",boxSizing:"border-box",position:"relative"},formControl:{margin:t.spacing(1),minWidth:120},selectEmpty:{marginTop:t.spacing(2)},root:{display:"flex",flexWrap:"wrap"},margin:{margin:t.spacing(1)},withoutLabel:{marginTop:t.spacing(3)},textField:{width:"25ch"}})})),B=function(t){t.loading;var e=t.savingList,a=t.onAdd,n=Object(l.f)(),r=q(t),c=Object(s.useState)(""),i=Object(o.a)(c,2),u=i[0],d=i[1],p=Object(s.useState)("0"),b=Object(o.a)(p,2),h=b[0],m=b[1],O=function(){return e.find((function(t){return t.category.toLowerCase()===u.toLowerCase()}))};Object(s.useEffect)((function(){var t=O();m(t?t.amount.toString():"0")}),[u]);return Object(k.jsxs)(j.a,{elevation:2,className:r.container,children:[Object(k.jsxs)(I.a,{fullWidth:!0,className:r.margin,children:[Object(k.jsx)(L.a,{htmlFor:"standard-adornment-amount",children:"Category"}),Object(k.jsx)(F.a,{id:"standard-adornment-amount",value:u,onChange:function(t){d(t.target.value)}})]}),Object(k.jsxs)(I.a,{fullWidth:!0,className:r.margin,children:[Object(k.jsx)(L.a,{htmlFor:"standard-adornment-amount",children:"Amount"}),Object(k.jsx)(F.a,{id:"standard-adornment-amount",value:h,onChange:function(t){return m(t.target.value)},startAdornment:Object(k.jsx)(T.a,{position:"start",children:"$"})})]}),Object(k.jsx)(I.a,{fullWidth:!0,className:r.margin,children:Object(k.jsx)(w.a,{variant:"contained",color:"primary",onClick:function(){O()?m("0"):a({category:u,amount:Number(h),updatedAt:(new Date).toISOString().split("T")[0],liquidable:0,id:(new Date).toString()})},children:"Add"})}),Object(k.jsx)(I.a,{fullWidth:!0,className:r.margin,children:Object(k.jsx)(w.a,{variant:"contained",color:"secondary",onClick:function(){return n.push(S.d)},children:"Cancel"})})]})};e.default=function(){var t=Object(l.f)(),e=Object(u.a)("savings"),a=e.loading,r=e.getData,d=e.updateData,j=e.addData,p=Object(s.useState)([]),b=Object(o.a)(p,2),h=b[0],m=b[1],O=Object(s.useState)([]),f=Object(o.a)(O,2),g=f[0],x=f[1],v=function(){var t=Object(i.a)(c.a.mark((function t(){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r();case 2:e=t.sent,m(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(s.useEffect)((function(){v()}),[]),Object(s.useEffect)((function(){if(h.length){var t=h.map((function(t){return{amount:t.amount,category:t.category,updatedDate:t.updatedAt}}));x(t)}}),[h]);var y=function(){var e=Object(i.a)(c.a.mark((function e(a){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(a);case 3:r=Object(n.a)(h),i=h.findIndex((function(t){return t.category===a.category})),r.splice(i,1,a),m(r),t.push(S.d),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(i.a)(c.a.mark((function e(a){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(a);case 3:r=[].concat(Object(n.a)(h),[a]),m(r),t.push(S.d),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(l.c,{children:[Object(k.jsx)(l.a,{exact:!0,path:S.d,component:function(){return Object(k.jsx)(D,{loading:a,savingList:g})}}),Object(k.jsx)(l.a,{path:S.c,component:function(){return Object(k.jsx)(U,{loading:a,savingList:h,onUpdate:y})}}),Object(k.jsx)(l.a,{path:S.b,component:function(){return Object(k.jsx)(B,{loading:a,savingList:h,onAdd:w})}})]})}}}]);
//# sourceMappingURL=6.a3dc1472.chunk.js.map